<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="utf-8">
    <title>sakuin-tool</title>
    <!--  この順番で読み込むこと↓ -->
    <script src="./kuromoji.js"></script>
    <script type="text/javascript" src="./script.js"></script>
</head>

<style>
body {
    background-color: darkslategrey;
    color: ghostwhite;
}
a {
    color: aquamarine;
}
</style>

<body> 
<h1>索引作成補助ツール</h1>

<!-- ======================================== 
読み情報の取得
======================================== -->
<h2>■読みがなの取得</h2>
<div>
<ul>
<li> <font color = "FF0066"> <b>Internet explorer 非推奨！</b></font></li>
<li>精度は検討の余地ありです（専門用語を中心に無視できない確率で不正確な読み仮名が取得される模様）。<b>必ず事後確認をしてください</b>。</li>
</ul>
</div>


<div style="display:inline-flex"><form name="form_toYomi">
<textarea name="textarea1" cols="25" rows="20" value="1" placeholder="文字列を貼り付けてください"></textarea>
<input type="button" value="取得" onclick="clickBtn_yomi()"/>
<textarea name="textarea2" cols="25" rows="20" value="1" placeholder="ここに結果が表示されます" readonly></textarea>
<input type="button" value="全選択" onclick="clickBtn_yomi_select()"/>
</form></div>

<script>
function clickBtn_yomi () {
    let lines = document.form_toYomi.textarea1.value;
    setYomi(lines);
}
function clickBtn_yomi_select () {
    document.form_toYomi.textarea2.select()
}
</script>


<hr>

<!-- ======================================== 
配列読みの取得
======================================== -->
<h2>■配列読みに変換</h2>
<p>テキストボックスに入力された文字列を配列読みに変換します。</p>
<form name="form_removeFlag">
<input type="checkbox" name="removeFlag" value="remove"> ひらがな・カタカナ・数字以外を削除する
</form>

<div style="display:inline-flex"><form name="form_toHairetsu">
<textarea name="textarea1" cols="25" rows="20" value="1" placeholder="文字列を貼り付けてください"></textarea>
<input type="button" value="変換" onclick="clickBtn_hairetsu()"/>
<textarea name="textarea2" cols="25" rows="20" value="1" readonly placeholder="ここに結果が表示されます"></textarea>
<input type="button" value="全選択" onclick="clickBtn_hairetsu_select()"/>
</form></div>

<script>
function clickBtn_hairetsu() {
    const lines_toHairetsu = document.form_toHairetsu.textarea1.value;
    const removeFlag = document.form_removeFlag.removeFlag;
    let converted = [];
    if (removeFlag.checked) {
        converted = toHairetsu(lines_toHairetsu, true);
    }
    else {
        converted = toHairetsu(lines_toHairetsu, false);
    }
    const msg = converted.join("\n");
    document.form_toHairetsu.textarea2.value = msg;
}
function clickBtn_hairetsu_select() {
    document.form_toHairetsu.textarea2.select();
}
</script>

<hr>

<!-- ======================================== 
名寄せ
======================================== -->
<h2>■名寄せ</h2>
<ul>
<li>ソート機能はありません。上から表示されている順番通りに名寄せします。</li>
<li>見よ項目など、ノンブルが記入されていない場合はそのまま表示します。</li>
<li>子項目は手動で作成してください。</li>
</ul>

<p><img src = "https://i.gyazo.com/3ab3b7d640fa94adb97b06fc96658789.png"></p>

<div style="display:inline-flex"><form name="form_toNayose">
<textarea name="textarea1" cols="25" rows="20" value="1" placeholder="文字列を貼り付けてください"></textarea>
<input type="button" value="名寄せ" onclick="clickBtn_nayose()"/>
<textarea name="textarea2" cols="25" rows="20" value="1" placeholder="結果が表示されます" readonly></textarea>
<input type="button" value="全選択" onclick="clickBtn_nayose_select()"/>
</form></div>

<script>
function clickBtn_nayose() {
    const lines_toNayose = document.form_toNayose.textarea1.value;
    const nys = nayose(lines_toNayose);
    const msg = nys.join("\n");
    document.form_toNayose.textarea2.value = msg;
}
function clickBtn_nayose_select() {
    document.form_toNayose.textarea2.select();
}
</script>

<hr>

<!-- ======================================== 
カタカナひらがな相互変換
======================================== -->
<h2>■カタカナひらがな相互変換</h2>
<p>テキストボックスに入力された文字列をカタカナ／ひらがなに変換します。</p>

<form id="form_katahiraFlag">
<label><input type="radio" name="radio1" value="toKata" checked>ひらがな→カタカナ</label>
<label><input type="radio" name="radio1" value="toHira"        >カタカナ→ひらがな</label>
</form>

<p></p>

<div style="display:inline-flex"><form name="form_toConvert">
<textarea name="textarea1" cols="25" rows="20" value="1" placeholder="文字列を貼り付けてください"></textarea>
<input type="button" value="変換" onclick="clickBtn_katahira()"/>
<textarea name="textarea2" cols="25" rows="20" value="1" placeholder="結果が表示されます" readonly></textarea>
<input type="button" value="全選択" onclick="clickBtn_katahira_select()"/>
</form></div>

<script>
function clickBtn_katahira() {
    const lines_toConvert = document.form_toConvert.textarea1.value;
    let element = document.getElementById("form_katahiraFlag");
    let radioList = element.radio1;
    let mode = radioList.value;
    if (mode == "toKata") {
        msg = hira2kata(lines_toConvert);
    }
    else {
        msg = kata2hira(lines_toConvert);
    }
    document.form_toConvert.textarea2.value = msg;
}
function clickBtn_katahira_select() {
    document.form_toConvert.textarea2.select();
}
</script>

</body>
</html>