<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="utf-8">
    <title>見よ項目のチェック</title>
    <base target="_blank">
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" type="text/css" href="../almond.lite.css">
    <link rel="stylesheet" type="text/css" href="../additional.css">
</head>

<body>
    <!-- ============================== -->
    <div class="container">

        <h2>見よ項目のチェック</h2>

        <div class="ui">
            <textarea class="inputLines" placeholder="paste here!"></textarea>
            <input type="button" value="チェック" id="exeButton">

        </div>

        <ul class="result-markup">
            <li class="lostTo">見よ項目があるのに参照先に括弧で付記されていないもの：
                <ul></ul>
            </li>
            <li class="lostFrom">参照元として括弧書きされているのに見よ項目がないもの：
                <ul></ul>
            </li>
            <li class="adjacent">見よ項目と見よ先項目が隣接しているもの：
                <ul></ul>
            </li>
        </ul>

    </div>
    <!-- ============================== -->
    <script type="module">
        import {setNavi} from "../common.js"
        setNavi();

        import {ReferenceChecker} from "./src.js";

        document.querySelector("#exeButton").addEventListener("click", () => {
            const checker = new ReferenceChecker(".ui .inputLines");

            const lostTo = checker.goalLostReference();
            document.querySelector(".result-markup li.lostTo ul").innerHTML = ReferenceChecker.showResult(lostTo);

            const lostFrom = checker.requiredFromReference();
            document.querySelector(".result-markup li.lostFrom ul").innerHTML = ReferenceChecker.showResult(lostFrom);

            const adjacent = checker.findAdjacent();
            document.querySelector(".result-markup li.adjacent ul").innerHTML = ReferenceChecker.showResult(adjacent);

        });

    </script>
</body>

</html>