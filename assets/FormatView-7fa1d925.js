import{S as k}from"./SectionEnd-c9716df7.js";import{_ as B,i as c,j as y,o as _,a as f,b as l,u as h,e as t,w as b,v as w,f as p,F as S,p as I,d as O,c as M,k as C,g as R,t as L,h as T}from"./index-71ca2f42.js";import{B as N}from"./BeforeAfter-0fe09635.js";import{P,a as Y,b as H,c as j,n as E}from"./PasteBox-23b110c5.js";import{A as G}from"./entryHandler-ea7f15d2.js";import{R as x}from"./ResultBox-7fe37b5b.js";import{C as V}from"./CopyButton-32423f15.js";const Z="/sakuin-tool/assets/before-e702eb7e.png",z="/sakuin-tool/assets/after-0c054fa5.png";class J{constructor(s,e=!1){this.linesParsed=s.filter(o=>o.trim()).map(o=>{const r=o.split("	").slice(0,2);return r.length<2?{Item:String(r[0]).trimEnd(),Address:""}:(e&&r.reverse(),{Item:String(r[0]).trimEnd(),Address:String(r[1]).trim()})}),this.groupedLines=[]}group(){const s=new Map;this.linesParsed.forEach(e=>{if(s.has(e.Item)){const o=s.get(e.Item)+", "+e.Address;s.set(e.Item,o)}else s.set(e.Item,e.Address)}),s.forEach((e,o)=>{const r=new G(e);this.groupedLines.push((o+"　　"+r.formatAll()).trimEnd())})}groupByOrder(){const s=[];for(let e=0;e<this.linesParsed.length;e++){const o=this.linesParsed[e];if(e==0){s.push({Item:o.Item,Address:o.Address});continue}const r=s.length-1;if(o.Item==s[r].Item){const a=s[r].Address+", "+o.Address;s[r].Address=a}else s.push({Item:o.Item,Address:o.Address})}this.groupedLines=s.map(e=>{const o=new G(e.Address);return(e.Item+"　　"+o.formatAll()).trimEnd()})}getGroupedLines(s=!1){return s?this.groupByOrder():this.group(),this.groupedLines}}const U=n=>(I("data-v-2495bc2e"),n=n(),O(),n),Q=U(()=>t("h2",null,"名寄せ",-1)),X=U(()=>t("p",null,[p("ノンブルの"),t("span",{style:{color:"red"}},"並び"),p("、"),t("span",{style:{color:"blue"}},"重複"),p("、"),t("span",{style:{color:"green"}},"連続"),p("を整理します。記号での装飾にも対応。")],-1)),q={__name:"Group",setup(n){const s=c(""),e=c([]),o=c(!1),r=c(!1),a=c(!0),i=y(()=>{const m=Y(s.value);return a.value?m.slice(1):m}),d=y(()=>e.value.join(`
`)),u=()=>{e.value=[]},A=()=>{u();const m=new J(i.value,o.value);e.value=m.getGroupedLines(r.value)};return(m,g)=>(_(),f(S,null,[Q,l(N,{beforePath:h(Z),afterPath:h(z)},null,8,["beforePath","afterPath"]),X,t("label",null,[b(t("input",{type:"checkbox","onUpdate:modelValue":g[0]||(g[0]=v=>a.value=v)},null,512),[[w,a.value]]),p("先頭行をスキップする")]),t("label",null,[b(t("input",{type:"checkbox","onUpdate:modelValue":g[1]||(g[1]=v=>o.value=v)},null,512),[[w,o.value]]),p("ノンブルが左列")]),t("label",null,[b(t("input",{type:"checkbox","onUpdate:modelValue":g[2]||(g[2]=v=>r.value=v)},null,512),[[w,r.value]]),p("連続している項目のみ名寄せする")]),l(P,{onUpdateContent:g[3]||(g[3]=v=>s.value=v.target.value),onButtonClicked:A}),l(x,{result:h(d)},null,8,["result"])],64))}},W=B(q,[["__scopeId","data-v-2495bc2e"]]),$="/sakuin-tool/assets/yomi_demo01-8364cbd8.png",K="/sakuin-tool/assets/yomi_demo02-f4b0ed71.png",F="/sakuin-tool/assets/yomi_demo03-90b9cbf5.png",ee="/sakuin-tool/assets/yomi_dl_release-5fbf65d3.png",te="/sakuin-tool/assets/yomi_dl01-ec508be3.png",se="/sakuin-tool/assets/yomi_dl02-ca9dfe3e.png",oe="/sakuin-tool/assets/yomi_dl03-71cef81c.png",ne="data:image/png;base64,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",ae="/sakuin-tool/assets/yomi_dl05-bed27782.png",re="/sakuin-tool/assets/yomi_dl06-6ec5b794.png",le="/sakuin-tool/assets/yomi_dl07-62ba7678.png",ie={name:"DownloadGuide"},ue=M('<summary>ダウンロード方法（初回のみ）</summary><div><img src="'+ee+'" alt=""></div><p><a href="https://github.com/AWtnb/flet_yomi/releases">リリースページ</a>の一番上に表示されている exe ファイルをクリックするとダウンロードが始まります。100MB を超える巨大なファイルなので、余裕のある回線をご利用ください。</p><h3>ダウンロード後の流れ</h3><p>個人開発のアプリなのでダウンロード時に警告が表示されます（下記は Microsoft Edge の例）。信頼していただければ、下記の手順で有効化してください。</p><ol><li>マウスを乗せると表示されるメニューから「保存」を選択。 <div><img src="'+te+'" alt=""></div></li><li>あらためて警告が出るので「詳細表示」をクリック。 <div><img src="'+se+'" alt=""></div></li><li>「保持する」をクリックするとダウンロードが正式に始まります。 <div><img src="'+oe+'" alt=""></div></li><li>ダウンロード先のフォルダを開くと <code>yomi.exe</code> というファイルがダウンロードされているはず。 <div><img src="'+ne+'" alt=""></div></li><li>アプリはこの exe 単体で動作します。適当なフォルダを作って移動させましょう。 <div><img src="'+ae+'" alt=""></div></li></ol><h3>初回起動時</h3><p>おそらく初回の起動時に、Windows からの警告が表示されます。同じく信頼していただけましたら、下記の手順で有効化してください。</p><ol><li>「PC が保護されました」という表示の場合は「詳細情報」をクリック。 <div><img src="'+re+'" alt=""></div></li><li>表示される「実行」ボタンをクリックするとアプリが起動します。 <div><img src="'+le+'" alt=""></div></li></ol>',9),de=[ue];function ce(n,s,e,o,r,a){return _(),f("details",null,de)}const pe=B(ie,[["render",ce]]),Ae=t("summary",null,"カタカナひらがな相互変換",-1),me={__name:"JaConv",setup(n){const s=c(""),e=y(()=>s.value.replace(/[\u30a1-\u30f4\u3041-\u3093]/g,o=>o.match(/[\u30a1-\u30f4]/)?H(o):j(o)));return(o,r)=>(_(),f("details",null,[Ae,b(t("textarea",{"onUpdate:modelValue":r[0]||(r[0]=a=>s.value=a)},null,512),[[C,s.value]]),l(x,{result:h(e)},null,8,["result"])]))}},_e=t("summary",null,"ローマ字に変換",-1),fe=t("ul",null,[t("li",null,[p("ヘボン式ローマ字に従っています。 "),t("ul",null,[t("li",null,"拗音は「ゃ」「ゅ」「ょ」にのみ対応しています。")])]),t("li",null,[p("変換できなかった文字はそのまま表示します。 "),t("ul",null,[t("li",null,"長音（ー）ならびに「ぁ」「ぃ」「ぅ」「ぇ」「ぉ」には非対応です。"),t("li",null,"日本語に登場する頻度の低い「ヴ」や、その他の表記が定まらないケースにも非対応です。")])])],-1),ge={__name:"Romanize",setup(n){const s=new Map;[["ア","A"],["イ","I"],["ウ","U"],["エ","E"],["オ","O"],["カ","Ka"],["キ","Ki"],["ク","Ku"],["ケ","Ke"],["コ","Ko"],["サ","Sa"],["シ","Shi"],["ス","Su"],["セ","Se"],["ソ","So"],["タ","Ta"],["チ","Chi"],["ツ","Tsu"],["テ","Te"],["ト","To"],["ナ","Na"],["ニ","Ni"],["ヌ","Nu"],["ネ","Ne"],["ノ","No"],["ハ","Ha"],["ヒ","Hi"],["フ","Fu"],["ヘ","He"],["ホ","Ho"],["マ","Ma"],["ミ","Mi"],["ム","Mu"],["メ","Me"],["モ","Mo"],["ヤ","Ya"],["ユ","Yu"],["ヨ","Yo"],["ラ","Ra"],["リ","Ri"],["ル","Ru"],["レ","Re"],["ロ","Ro"],["ワ","Wa"],["ヲ","Wo"],["ン","N"],["ガ","Ga"],["ギ","Gi"],["グ","Gu"],["ゲ","Ge"],["ゴ","Go"],["ザ","Za"],["ジ","Ji"],["ズ","Zu"],["ゼ","Ze"],["ゾ","Zo"],["ダ","Da"],["ヂ","Di"],["ヅ","Zu"],["デ","De"],["ド","Do"],["バ","Ba"],["ビ","Bi"],["ブ","Bu"],["ベ","Be"],["ボ","Bo"],["パ","Pa"],["ピ","Pi"],["プ","Pu"],["ペ","Pe"],["ポ","Po"],["ャ","Lya"],["ュ","Lyu"],["ョ","Lyo"],["ッ","Ltu"]].forEach(a=>s.set(...a));const e=a=>{let i=j(a);for(let d of s.keys()){const u=new RegExp(d,"g");i=i.replace(u,s.get(d))}return i=i.replace(/([CS]h|J)iLy(.)/g,"$1$2").replace(/([A-Z])iL(y.)/g,"$1$2").replace(/Ltu(.)/g,"$1$1"),i.toLowerCase()},o=c(""),r=y(()=>e(o.value));return(a,i)=>(_(),f("details",null,[_e,fe,b(t("textarea",{"onUpdate:modelValue":i[0]||(i[0]=d=>o.value=d)},null,512),[[C,o.value]]),l(x,{result:h(r)},null,8,["result"])]))}},ve=t("h2",null,"よみがな取得",-1),he=t("p",null,[t("a",{href:"https://github.com/AWtnb/flet_yomi/releases"},"外部アプリ"),p("を使用します。")],-1),be=M('<h3>作業手順</h3><h4>1. 名寄せした索引項目の読み情報を取得する</h4><div><img src="'+$+'" alt=""></div><p>名寄せが済んだ索引をテキストボックスに貼り付けて<code>GO!</code>のボタンをクリックすると読み情報が取得されます。</p><ul><li>結果は「元の文字」「読みがな」「解析の詳細」の3列です。</li><li>オプションの意味： <ul><li><code>Skip inside: () / []</code>：括弧内の文字（見よ元項目の情報など）を無視します。</li><li><code>Skip nombles or reference (for book index)</code>：ノンブル情報（全角空白2個の後ろにある数字）、見よ先情報（<code>　→</code>の後ろにある文字）を無視します。</li></ul></li></ul><h4>2. 結果を Microsoft Excel に貼り付けてチェックする</h4><div><img src="'+K+'" alt=""></div><p><code>COPY!</code>ボタンで変換結果をコピーします。Excel を開いて貼り付けると楽にチェックできます。</p><ul><li>一番右の列で、どの単語をどう読んでいるのかがわかります。</li><li><strong>この先使用するのは左の2列だけです。</strong>3列目を見ながら、変換にミスがあれば2列目を修正していきます。</li></ul>',9),ye=t("h4",null,"3. 必要な列をコピーする",-1),we=t("div",null,[t("img",{src:F,alt:""})],-1),Be=t("p",null,"読みがなのチェック・修正が終わったら、左2列をコピーして以降のステップ（並べ替え）に進んでください。",-1),Se=t("ul",null,[t("li",null,"配列読みは次の並べ替えのステップで自動生成します。")],-1),xe={__name:"Reading",setup(n){return(s,e)=>(_(),f(S,null,[ve,he,l(pe),be,l(me),l(ge),ye,we,Be,Se],64))}},ke="/sakuin-tool/assets/before-5b114135.png",Le="/sakuin-tool/assets/after-1f9d2399.png",De=t("summary",null,"配列読みへの変換だけ必要な場合はこちら",-1),Ie={__name:"Normalize",setup(n){const s=c(""),e=c(!0),o=y(()=>E(s.value,e.value));return(r,a)=>(_(),f("details",null,[De,t("label",null,[b(t("input",{type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=i=>e.value=i)},null,512),[[w,e.value]]),p("カタカナ・数字・アルファベット以外を削除する")]),b(t("textarea",{placeholder:"paste here!","onUpdate:modelValue":a[1]||(a[1]=i=>s.value=i)},null,512),[[C,s.value]]),l(x,{result:h(o)},null,8,["result"])]))}};const Oe=n=>(I("data-v-e855938c"),n=n(),O(),n),Me={key:0},Ce={class:"limit-height"},Ge=Oe(()=>t("thead",null,[t("tr",null,[t("th",null,"項目"),t("th",null,"読み"),t("th",null,"配列読み")])],-1)),Ne={class:"reading"},Pe={class:"normalized-reading"},Ye={__name:"SortedTable",props:{sortedArr:Array},setup(n){const s=n,e=c(!0),o=y(()=>e.value?s.sortedArr.map(a=>`${a.item}	${a.reading}	${a.normalized}`):s.sortedArr.map(a=>a.item)),r=y(()=>o.value.join(`
`));return(a,i)=>n.sortedArr.length?(_(),f("div",Me,[t("div",Ce,[t("table",null,[Ge,t("tbody",null,[(_(!0),f(S,null,R(n.sortedArr,(d,u)=>(_(),f("tr",{key:u},[t("td",null,L(d.item),1),t("td",Ne,L(d.reading),1),t("td",Pe,L(d.normalized),1)]))),128))])])]),l(V,{copyStr:h(r)},null,8,["copyStr"]),t("label",null,[b(t("input",{type:"checkbox","onUpdate:modelValue":i[0]||(i[0]=d=>e.value=d)},null,512),[[w,e.value]]),p("3列ともコピーする")])])):T("",!0)}},je=B(Ye,[["__scopeId","data-v-e855938c"]]),D=(n,s)=>{const e=String(n).toLowerCase(),o=String(s).toLowerCase();return e>o?1:e<o?-1:0};class Ee{constructor(){this.parsedLines=[]}addData(s,e){this.parsedLines.push({item:s,reading:e,normalized:E(e,!0)})}execute(){return this.parsedLines.sort((s,e)=>D(s.item,e.item)).sort((s,e)=>D(s.reading,e.reading)).sort((s,e)=>D(s.normalized,e.normalized))}}const Ue=n=>(I("data-v-fc1a1da6"),n=n(),O(),n),Re=Ue(()=>t("h2",null,"並べ替え",-1)),Te=M("<p data-v-fc1a1da6><code data-v-fc1a1da6>読み</code>の情報を<code data-v-fc1a1da6>配列読み</code>に変換して並べ替えます。<strong data-v-fc1a1da6>1列目が最終的な索引になります。</strong></p><ul data-v-fc1a1da6><li data-v-fc1a1da6>最優先は<code data-v-fc1a1da6>配列読み</code>の情報。</li><li data-v-fc1a1da6><code data-v-fc1a1da6>配列読み</code>が同じ場合は<code data-v-fc1a1da6>読み</code>で昇順ソート。</li><li data-v-fc1a1da6><code data-v-fc1a1da6>読み</code>も同じ場合は<code data-v-fc1a1da6>項目</code>の文字コード昇順（同じ文字種がまとまります）。</li></ul>",2),He={__name:"Sort",setup(n){const s=c(""),e=c([]),o=c(!0),r=y(()=>{const u=Y(s.value);return o.value?u.slice(1):u}),a=y(()=>r.value.filter(u=>u.trim().length>0).map(u=>{const[A,m,...g]=u.split("	").map(v=>v.trim());return{item:A,reading:m}})),i=()=>{e.value=[]},d=()=>{i();const u=new Ee;a.value.forEach(A=>u.addData(A.item,A.reading)),e.value=u.execute()};return(u,A)=>(_(),f(S,null,[Re,l(N,{beforePath:h(ke),afterPath:h(Le)},null,8,["beforePath","afterPath"]),Te,t("label",null,[b(t("input",{type:"checkbox","onUpdate:modelValue":A[0]||(A[0]=m=>o.value=m)},null,512),[[w,o.value]]),p("先頭行をスキップする")]),l(P,{onUpdateContent:A[1]||(A[1]=m=>s.value=m.target.value),onButtonClicked:d}),l(je,{sortedArr:e.value},null,8,["sortedArr"]),l(Ie)],64))}},Ve=B(He,[["__scopeId","data-v-fc1a1da6"]]),Ze={class:"format"},ze=t("h1",null,"索引の整形",-1),Fe={__name:"FormatView",setup(n){return(s,e)=>(_(),f("div",Ze,[ze,l(W),l(k),l(xe),l(k),l(Ve),l(k)]))}};export{Fe as default};
