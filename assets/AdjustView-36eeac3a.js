import{S as D}from"./SectionEnd-c9716df7.js";import{_ as x,o as d,a as c,g as V,e as r,t as v,n as I,h as E,F as y,i as m,j as N,f as h,w as b,k as j,b as _,u as L,p as P,d as M}from"./index-71ca2f42.js";import{P as U,a as C}from"./PasteBox-23b110c5.js";import{R as F}from"./ResultBox-7fe37b5b.js";import{E as R,A as g}from"./entryHandler-ea7f15d2.js";import"./CopyButton-32423f15.js";const T={name:"AddressDiff",props:{diffDetails:{type:Array,require:!0}}},q={key:0};function z(a,e,n,s,l,o){return d(!0),c(y,null,V(n.diffDetails,(t,f)=>(d(),c("span",{key:f},[r("del",null,v(t.before),1),r("span",{style:I({color:t.color})},v(t.text),5),t.isEnd?E("",!0):(d(),c("span",q,", "))]))),128)}const H=x(T,[["render",z],["__scopeId","data-v-fe5cb16f"]]),w=a=>isNaN(Number(a))?a.replace(/[^\d]/g,""):a,O=(a,e)=>{const n=a.map((s,l)=>{const o=e[l],t=l==a.length-1;return w(s)!=w(o)?{text:o,before:s,color:"#ff0080",isEnd:t}:{text:s,before:"",color:"#333",isEnd:t}});return{modified:n.some(s=>s.before.length>0),detail:n}};class G{constructor(e,n,s){this.start=e,this.end=n,this.delta=s}adjust(e){return Number(this.start)<=e.intValue&&e.intValue<=Number(this.end)?e.display.prefix+(e.intValue+Number(this.delta))+e.display.suffix:e.display.text}}class J{constructor(e,n,s,l){this.lines=e,this.adjuster=new G(n,s,l)}adjust(){return this.lines.map(e=>{const n=new R(e),s=new g(n.address).rawElements,l=s.map(o=>{const t=new g(o).nombres;return t.length>1?this.adjuster.adjust(t[0])+"–"+this.adjuster.adjust(t.at(-1)):this.adjuster.adjust(t[0])});return{name:n.name,newNombres:l,comparison:O(s,l)}})}}const K=a=>(P("data-v-0a0528d3"),a=a(),M(),a),Q=K(()=>r("h2",null,"ノンブル加算減算",-1)),W={class:"config"},X={key:0},Y={__name:"PlusMinus",setup(a){const e=m(""),n=m(1),s=m(999),l=m(1),o=m([]),t=m([]),f=m(""),$=N(()=>C(e.value)),A=N(()=>o.value.map(p=>p.newNombres.length?`${p.name}　　${p.newNombres.join(", ")}`:p.name).join(`
`)),k=()=>{f.value="",o.value=[],t.value=[]},S=()=>{k();const p=new J($.value,n.value,s.value,l.value);o.value=p.adjust(),t.value=o.value.filter(u=>u.comparison.modified).map(u=>({name:u.name,detail:u.comparison.detail})),t.value.length?f.value=t.value.length+"件の変更があります。":f.value="修正箇所はありません。"};return(p,u)=>(d(),c(y,null,[Q,r("ul",W,[r("li",null,[h("開始 "),b(r("input",{type:"number",min:"1","onUpdate:modelValue":u[0]||(u[0]=i=>n.value=i)},null,512),[[j,n.value]])]),r("li",null,[h("終了 "),b(r("input",{type:"number",min:"1","onUpdate:modelValue":u[1]||(u[1]=i=>s.value=i)},null,512),[[j,s.value]])]),r("li",null,[h("増分 "),b(r("input",{type:"number","onUpdate:modelValue":u[2]||(u[2]=i=>l.value=i)},null,512),[[j,l.value]])])]),_(U,{onUpdateContent:u[3]||(u[3]=i=>e.value=i.target.value),onButtonClicked:S}),_(F,{result:L(A)},null,8,["result"]),r("div",null,[r("h4",null,v(f.value),1),t.value.length?(d(),c("ul",X,[(d(!0),c(y,null,V(t.value,(i,B)=>(d(),c("li",{key:B},[r("span",null,v(i.name)+"　　",1),_(H,{"diff-details":i.detail},null,8,["diff-details"])]))),128))])):E("",!0)])],64))}},Z=x(Y,[["__scopeId","data-v-0a0528d3"]]),ee={class:"adjust"},te=r("h1",null,"微調整",-1),oe={__name:"AdjustView",setup(a){return(e,n)=>(d(),c("div",ee,[te,_(Z),_(D)]))}};export{oe as default};
