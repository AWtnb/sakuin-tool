import{S as L}from"./SectionEnd-0ced33cd.js";import{_ as x,j as g,i as m,y as O,o as p,a as A,b as e,t as B,d as u,k as y,s as w,n as J,u as v,e as f,F as k,g as P,q as Q,h as Y,p as I,f as R,m as X,c as G,v as W}from"./index-7ebdcd51.js";import{B as U}from"./BeforeAfter-3ca90bb6.js";import{_ as K,R as F}from"./referenceChecker-869312f1.js";import{S as C,a as H,b as ee,c as V,n as T}from"./SimpleTextarea-486c6d7e.js";import{A as E}from"./entry-79187166.js";import{R as D}from"./ResultBox-b3af0cb0.js";import{C as te}from"./CopyButton-49748741.js";const se="/sakuin-tool/assets/before-e702eb7e.png",ae="/sakuin-tool/assets/after-0c054fa5.png";const ne={class:"required"},oe=["disabled"],le={__name:"RefTableRow",props:{determined:Boolean,refItem:Object},emits:["acceptToggled"],setup(n,{emit:t}){const s=n,a=g(!1),r=m(()=>s.determined||a.value),l=()=>{t("acceptToggled",{isChecked:a.value})};return O(()=>s.refItem,()=>{a.value=!1}),(i,o)=>(p(),A("tr",{class:J({blur:v(r)})},[e("td",null,B(n.refItem.problem),1),e("td",ne,[u(K,{arr:n.refItem.require},null,8,["arr"])]),e("td",null,[y(e("input",{type:"checkbox","onUpdate:modelValue":o[0]||(o[0]=d=>a.value=d),onChange:l,disabled:n.determined},null,40,oe),[[w,a.value]])])],2))}},re=x(le,[["__scopeId","data-v-93046ab4"]]);const $=n=>(I("data-v-fe5d30b3"),n=n(),R(),n),de={key:0},ie=$(()=>e("h3",null,"見よ項目が足りません：",-1)),ue=$(()=>e("thead",null,[e("tr",null,[e("th",null,"括弧のある項目"),e("th",null,"必要な見よ項目"),e("th",null,"追加する")])],-1)),ce={__name:"FindMissingRefs",props:{missingRefs:Array},emits:["acceptAllToggled","acceptToggled"],setup(n,{emit:t}){const s=n,a=g(!1),r=()=>{t("acceptAllToggled",{isChecked:a.value})},l=(i,o)=>{t("acceptToggled",{isChecked:i.isChecked,idx:o})};return O(()=>s.missingRefs,()=>{s.missingRefs.length&&(a.value=!1)}),(i,o)=>n.missingRefs.length?(p(),A("div",de,[ie,e("label",null,[y(e("input",{type:"checkbox","onUpdate:modelValue":o[0]||(o[0]=d=>a.value=d),onChange:r},null,544),[[w,a.value]]),f("まとめて追加する ")]),e("table",null,[ue,e("tbody",null,[(p(!0),A(k,null,P(n.missingRefs,(d,_)=>(p(),Q(re,{key:_,determined:a.value,refItem:d,onAcceptToggled:b=>l(b,_)},null,8,["determined","refItem","onAcceptToggled"]))),128))])])])):Y("",!0)}},pe=x(ce,[["__scopeId","data-v-fe5d30b3"]]);class me{constructor(t,s=!1){this.linesParsed=t.filter(a=>a.trim()).map(a=>{const r=a.split("	").slice(0,2);return r.length<2?{Item:String(r[0]).trimEnd(),Address:""}:(s&&r.reverse(),{Item:String(r[0]).trimEnd(),Address:String(r[1]).trim()})}),this.groupedLines=[]}getItems(){return this.linesParsed.map(t=>t.Item)}getAddresses(){return this.linesParsed.map(t=>t.Address)}group(){const t=new Map;this.linesParsed.forEach(s=>{if(t.has(s.Item)){const a=t.get(s.Item)+", "+s.Address;t.set(s.Item,a)}else t.set(s.Item,s.Address)}),t.forEach((s,a)=>{const r=new E(s);this.groupedLines.push((a+"　　"+r.formatAll()).trimEnd())})}groupByOrder(){const t=[];for(let s=0;s<this.linesParsed.length;s++){const a=this.linesParsed[s];if(s==0){t.push({Item:a.Item,Address:a.Address});continue}const r=t.length-1;if(a.Item==t[r].Item){const l=t[r].Address+", "+a.Address;t[r].Address=l}else t.push({Item:a.Item,Address:a.Address})}this.groupedLines=t.map(s=>{const a=new E(s.Address);return(s.Item+"　　"+a.formatAll()).trimEnd()})}getGroupedLines(t=!1){return t?this.groupByOrder():this.group(),this.groupedLines}}const z=n=>(I("data-v-5c2afbaa"),n=n(),R(),n),ge=z(()=>e("h2",null,"名寄せ",-1)),fe=z(()=>e("p",null,[f("ノンブルの"),e("span",{style:{color:"red"}},"並び"),f("、"),e("span",{style:{color:"blue"}},"重複"),f("、"),e("span",{style:{color:"green"}},"連続"),f("を整理します。記号での装飾にも対応。")],-1)),Ae={__name:"Group",setup(n){const t=g(""),s=m(()=>{const c=H(t.value);return l.value?c.slice(1):c}),a=g(!1),r=g(!1),l=g(!0),i=m(()=>new me(s.value,a.value).getGroupedLines(r.value).join(`
`)),o=m(()=>new F(i.value).findMissingRefs()),d=g(!1),_=c=>{d.value=c.isChecked},b=X(new Map),N=m(()=>o.value.filter((c,h)=>b.has(h)&&b.get(h)).map(c=>c.require).flat()),q=c=>{b.set(c.idx,c.isChecked)},j=m(()=>d.value?o.value.map(c=>c.require).flat():N.value.length?N.value:[]),Z=m(()=>j.value.length<1?i.value:i.value+`
`+j.value.join(`
`));return O(()=>i.value,()=>{Array.from(b.keys()).forEach(c=>{b.set(c,!1)}),d.value=!1}),(c,h)=>(p(),A(k,null,[ge,u(U,{beforePath:v(se),afterPath:v(ae)},null,8,["beforePath","afterPath"]),fe,e("label",null,[y(e("input",{type:"checkbox","onUpdate:modelValue":h[0]||(h[0]=S=>l.value=S)},null,512),[[w,l.value]]),f("先頭行をスキップする")]),e("label",null,[y(e("input",{type:"checkbox","onUpdate:modelValue":h[1]||(h[1]=S=>a.value=S)},null,512),[[w,a.value]]),f("ノンブルが左列")]),e("label",null,[y(e("input",{type:"checkbox","onUpdate:modelValue":h[2]||(h[2]=S=>r.value=S)},null,512),[[w,r.value]]),f("連続している項目のみ名寄せする")]),u(C,{onUpdateContent:h[3]||(h[3]=S=>t.value=S.content)}),u(D,{result:v(Z)},null,8,["result"]),u(pe,{missingRefs:v(o),onAcceptAllToggled:_,onAcceptToggled:q},null,8,["missingRefs"])],64))}},_e=x(Ae,[["__scopeId","data-v-5c2afbaa"]]),ve="/sakuin-tool/assets/yomi_demo01-8364cbd8.png",he="/sakuin-tool/assets/yomi_demo02-b52fa0ec.png",be="/sakuin-tool/assets/yomi_demo03-90b9cbf5.png",ye="/sakuin-tool/assets/yomi_dl_release-5fbf65d3.png",we="/sakuin-tool/assets/yomi_dl01-ec508be3.png",Se="/sakuin-tool/assets/yomi_dl02-ca9dfe3e.png",ke="/sakuin-tool/assets/yomi_dl03-71cef81c.png",xe="data:image/png;base64,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",Be="/sakuin-tool/assets/yomi_dl05-bed27782.png",Ie="/sakuin-tool/assets/yomi_dl06-6ec5b794.png",Re="/sakuin-tool/assets/yomi_dl07-62ba7678.png";const Ce={name:"DownloadGuide"},De=G('<summary data-v-4496ed56>ダウンロード方法（初回のみ）</summary><div data-v-4496ed56><img src="'+ye+'" alt="" data-v-4496ed56></div><p data-v-4496ed56><a href="https://github.com/AWtnb/flet-yomi/releases" data-v-4496ed56>リリースページ</a>の一番上に表示されている exe ファイルをクリックするとダウンロードが始まります。100MB を超える巨大なファイルなので、余裕のある回線をご利用ください。</p><h3 data-v-4496ed56>ダウンロード後の流れ</h3><p data-v-4496ed56>個人開発のアプリなのでダウンロード時に警告が表示されます（下記は Microsoft Edge の例）。信頼していただければ、下記の手順で有効化してください。</p><ol data-v-4496ed56><li data-v-4496ed56>マウスを乗せると表示されるメニューから「保存」を選択。 <div data-v-4496ed56><img src="'+we+'" alt="" data-v-4496ed56></div></li><li data-v-4496ed56>あらためて警告が出るので「詳細表示」をクリック。 <div data-v-4496ed56><img src="'+Se+'" alt="" data-v-4496ed56></div></li><li data-v-4496ed56>「保持する」をクリックするとダウンロードが正式に始まります。 <div data-v-4496ed56><img src="'+ke+'" alt="" data-v-4496ed56></div></li><li data-v-4496ed56>ダウンロード先のフォルダを開くと <code data-v-4496ed56>yomi.exe</code> というファイルがダウンロードされているはず。 <div data-v-4496ed56><img src="'+xe+'" alt="" data-v-4496ed56></div></li><li data-v-4496ed56>アプリはこの exe 単体で動作します。適当なフォルダを作って移動させましょう。 <div data-v-4496ed56><img src="'+Be+'" alt="" data-v-4496ed56></div></li></ol><h3 data-v-4496ed56>初回起動時</h3><p data-v-4496ed56>おそらく初回の起動時に、Windows からの警告が表示されます。有効化するには下記の操作をしてください。</p><ol data-v-4496ed56><li data-v-4496ed56>「PC が保護されました」という表示の場合は「詳細情報」をクリック。 <div data-v-4496ed56><img src="'+Ie+'" alt="" data-v-4496ed56></div></li><li data-v-4496ed56>表示される「実行」ボタンをクリックするとアプリが起動します。 <div data-v-4496ed56><img src="'+Re+'" alt="" data-v-4496ed56></div></li></ol>',9),Le=[De];function Me(n,t,s,a,r,l){return p(),A("details",null,Le)}const Te=x(Ce,[["render",Me],["__scopeId","data-v-4496ed56"]]),Oe=e("summary",null,"カタカナひらがな相互変換",-1),Ge={__name:"JaConv",setup(n){const t=g(""),s=m(()=>t.value.replace(/[\u30a1-\u30f4\u3041-\u3093]/g,a=>a.match(/[\u30a1-\u30f4]/)?ee(a):V(a)));return(a,r)=>(p(),A("details",null,[Oe,u(C,{onUpdateContent:r[0]||(r[0]=l=>t.value=l.content)}),u(D,{result:v(s)},null,8,["result"])]))}},Ne=e("summary",null,"ローマ字に変換",-1),je=e("ul",null,[e("li",null,[f("ヘボン式ローマ字に従っています。 "),e("ul",null,[e("li",null,"拗音は「ゃ」「ゅ」「ょ」にのみ対応しています。")])]),e("li",null,[f("変換できなかった文字はそのまま表示します。 "),e("ul",null,[e("li",null,"長音（ー）ならびに「ぁ」「ぃ」「ぅ」「ぇ」「ぉ」には非対応です。"),e("li",null,"日本語に登場する頻度の低い「ヴ」や、その他の表記が定まらないケースにも非対応です。")])])],-1),Ee={__name:"Romanize",setup(n){const t=new Map;[["ア","A"],["イ","I"],["ウ","U"],["エ","E"],["オ","O"],["カ","Ka"],["キ","Ki"],["ク","Ku"],["ケ","Ke"],["コ","Ko"],["サ","Sa"],["シ","Shi"],["ス","Su"],["セ","Se"],["ソ","So"],["タ","Ta"],["チ","Chi"],["ツ","Tsu"],["テ","Te"],["ト","To"],["ナ","Na"],["ニ","Ni"],["ヌ","Nu"],["ネ","Ne"],["ノ","No"],["ハ","Ha"],["ヒ","Hi"],["フ","Fu"],["ヘ","He"],["ホ","Ho"],["マ","Ma"],["ミ","Mi"],["ム","Mu"],["メ","Me"],["モ","Mo"],["ヤ","Ya"],["ユ","Yu"],["ヨ","Yo"],["ラ","Ra"],["リ","Ri"],["ル","Ru"],["レ","Re"],["ロ","Ro"],["ワ","Wa"],["ヲ","Wo"],["ン","N"],["ガ","Ga"],["ギ","Gi"],["グ","Gu"],["ゲ","Ge"],["ゴ","Go"],["ザ","Za"],["ジ","Ji"],["ズ","Zu"],["ゼ","Ze"],["ゾ","Zo"],["ダ","Da"],["ヂ","Di"],["ヅ","Zu"],["デ","De"],["ド","Do"],["バ","Ba"],["ビ","Bi"],["ブ","Bu"],["ベ","Be"],["ボ","Bo"],["パ","Pa"],["ピ","Pi"],["プ","Pu"],["ペ","Pe"],["ポ","Po"],["ャ","Lya"],["ュ","Lyu"],["ョ","Lyo"],["ッ","Ltu"]].forEach(l=>t.set(...l));const s=l=>{let i=V(l);for(let o of t.keys()){const d=new RegExp(o,"g");i=i.replace(d,t.get(o))}return i=i.replace(/([CS]h|J)iLy(.)/g,"$1$2").replace(/([A-Z])iL(y.)/g,"$1$2").replace(/Ltu(.)/g,"$1$1"),i.toLowerCase()},a=g(""),r=m(()=>s(a.value));return(l,i)=>(p(),A("details",null,[Ne,je,u(C,{onUpdateContent:i[0]||(i[0]=o=>a.value=o.content)}),u(D,{result:v(r)},null,8,["result"])]))}},Pe=e("h2",null,"よみがな取得",-1),Ye=e("p",null,[e("a",{href:"https://github.com/AWtnb/flet-yomi/releases"},"外部アプリ"),f("を使用します。")],-1),Ue=G('<h3>1. 名寄せした索引項目の読み情報を取得する</h3><div><img src="'+ve+'" alt=""></div><p>名寄せが済んだ索引をテキストボックスに貼り付けて<code>GO!</code>のボタンをクリックすると読み情報が取得されます。</p><p>結果は「元の文字」「読みがな」「解析の詳細」の3列です。</p><details><summary>オプションの意味</summary><ul><li><code>Skip inside: () / []</code>：括弧内の文字（見よ元項目の情報など）を無視します。</li><li><code>Skip nombles or reference (for book index)</code>：ノンブル情報（全角空白2個の後ろにある数字）、見よ先情報（<code>　→</code>の後ろにある文字）を無視します。</li></ul></details><h3>2. 結果を Microsoft Excel に貼り付けてチェックする</h3><div><img src="'+he+'" alt=""></div><p><code>COPY!</code>ボタンで変換結果をコピーします。Excel を開いて貼り付けると楽にチェックできます。</p><ul><li>一番右の列で、どの単語をどう読んでいるのかがわかります。</li><li><strong>この先使用するのは左の2列だけです。</strong>3列目を見ながら、変換にミスがあれば2列目を修正していきます。</li></ul>',9),He=e("h3",null,"3. 必要な列をコピーする",-1),Ve=e("div",null,[e("img",{src:be,alt:""})],-1),$e=e("p",null,"読みがなのチェック・修正が終わったら、左2列をコピーして以降のステップ（並べ替え）に進んでください。",-1),ze=e("ul",null,[e("li",null,"配列読みは次の並べ替えのステップで自動生成します。")],-1),qe={__name:"Reading",setup(n){return(t,s)=>(p(),A(k,null,[Pe,Ye,u(Te),Ue,u(Ge),u(Ee),He,Ve,$e,ze],64))}},Ze="/sakuin-tool/assets/before-5b114135.png",Je="/sakuin-tool/assets/after-1f9d2399.png",Qe=e("summary",null,"配列読みへの変換だけ必要な場合はこちら",-1),Xe={__name:"Normalize",setup(n){const t=g(""),s=g(!0),a=m(()=>T(t.value,s.value));return(r,l)=>(p(),A("details",null,[Qe,e("label",null,[y(e("input",{type:"checkbox","onUpdate:modelValue":l[0]||(l[0]=i=>s.value=i)},null,512),[[w,s.value]]),f("カタカナ・数字・アルファベット以外を削除する")]),y(e("textarea",{placeholder:"paste here!","onUpdate:modelValue":l[1]||(l[1]=i=>t.value=i)},null,512),[[W,t.value]]),u(D,{result:v(a)},null,8,["result"])]))}};const We=n=>(I("data-v-52d5abfe"),n=n(),R(),n),Ke={class:"limit-height"},Fe=We(()=>e("thead",null,[e("tr",null,[e("th",null,"項目"),e("th",null,"読み"),e("th",null,"配列読み")])],-1)),et={class:"reading"},tt={class:"normalized-reading"},st={__name:"SortResult",props:{sortedArr:Array},setup(n){const t=n,s=g(!1),a=m(()=>t.sortedArr.map(l=>l.item).join(`
`)),r=m(()=>s.value?t.sortedArr.map(l=>`${l.item}	${l.reading}	${l.normalized}`).join(`
`):a.value);return(l,i)=>(p(),A(k,null,[e("div",Ke,[e("table",null,[Fe,e("tbody",null,[(p(!0),A(k,null,P(n.sortedArr,(o,d)=>(p(),A("tr",{key:d},[e("td",null,B(o.item),1),e("td",et,B(o.reading),1),e("td",tt,B(o.normalized),1)]))),128))])])]),u(te,{copyStr:v(r)},null,8,["copyStr"]),e("label",null,[y(e("input",{type:"checkbox","onUpdate:modelValue":i[0]||(i[0]=o=>s.value=o)},null,512),[[w,s.value]]),f("3列ともコピーする")])],64))}},at=x(st,[["__scopeId","data-v-52d5abfe"]]),M=(n,t)=>{const s=String(n).toLowerCase(),a=String(t).toLowerCase();return s>a?1:s<a?-1:0};class nt{constructor(){this.parsedLines=[]}addData(t,s){this.parsedLines.push({item:t,reading:s,normalized:T(s,!0)})}addHeading(){"あかさたなはまやらわ".split("").forEach(t=>{this.parsedLines.push({item:"■"+t+"行",reading:"",normalized:T(t)})})}execute(){return this.parsedLines.sort((t,s)=>M(t.item,s.item)).sort((t,s)=>M(t.reading,s.reading)).sort((t,s)=>M(t.normalized,s.normalized))}}const ot=n=>(I("data-v-af40b302"),n=n(),R(),n),lt=ot(()=>e("h2",null,"並べ替え",-1)),rt=G("<p data-v-af40b302><code data-v-af40b302>読み</code>の情報を<code data-v-af40b302>配列読み</code>に変換して並べ替えます。<strong data-v-af40b302>1列目が最終的な索引になります。</strong></p><ul data-v-af40b302><li data-v-af40b302>最優先は<code data-v-af40b302>配列読み</code>の情報。</li><li data-v-af40b302><code data-v-af40b302>配列読み</code>が同じ場合は<code data-v-af40b302>読み</code>で昇順ソート。</li><li data-v-af40b302><code data-v-af40b302>読み</code>も同じ場合は<code data-v-af40b302>項目</code>の文字コード昇順（同じ文字種がまとまります）。</li></ul>",2),dt={key:0},it={__name:"Sort",setup(n){const t=g(""),s=g(!1),a=m(()=>{const o=H(t.value);return s.value?o.slice(1):o}),r=m(()=>a.value.filter(o=>o.trim().length>0).map(o=>{const d=o.split("	");if(d.length<2)return null;const _=d[0].trim(),b=d[1].trim();return _.length<1||b.length<1?null:{item:_,reading:b}}).filter(Boolean)),l=g(!0),i=m(()=>{const o=new nt;return r.value.forEach(d=>o.addData(d.item,d.reading)),l.value&&o.addHeading(),o.execute()});return(o,d)=>(p(),A(k,null,[lt,u(Xe),u(U,{beforePath:v(Ze),afterPath:v(Je)},null,8,["beforePath","afterPath"]),rt,e("label",null,[y(e("input",{type:"checkbox","onUpdate:modelValue":d[0]||(d[0]=_=>s.value=_)},null,512),[[w,s.value]]),f("先頭行をスキップする")]),e("label",null,[y(e("input",{type:"checkbox","onUpdate:modelValue":d[1]||(d[1]=_=>l.value=_)},null,512),[[w,l.value]]),f("見出しを追加する")]),u(C,{onUpdateContent:d[2]||(d[2]=_=>t.value=_.content)}),v(a).length?(p(),A("div",dt,[u(at,{sortedArr:v(i)},null,8,["sortedArr"])])):Y("",!0)],64))}},ut=x(it,[["__scopeId","data-v-af40b302"]]),ct={class:"format"},pt=e("h1",null,"索引の整形",-1),yt={__name:"FormatView",setup(n){return(t,s)=>(p(),A("div",ct,[pt,u(_e),u(L),u(qe),u(L),u(ut),u(L)]))}};export{yt as default};
